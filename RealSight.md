---

# **实时新闻社交平台需求文档**  
**版本号**：3.0  
**发布日期**：2023年10月  
**项目负责人**：XXX  
**技术栈**：Java + Spring Boot + Vue 3 + MySQL + Redis  

---

## **一、项目概述**
### 1.1 RealSight项目背景
面向全球化用户，打造一个聚合**多国主流媒体新闻**、支持**实时讨论**的社交平台。用户可追踪全球热点事件，对比不同国家媒体视角，并通过强交互评论系统深度参与观点交流。

### 1.2 核心目标
1. **多源聚合**：覆盖20+国家/地区权威媒体，支持新闻来源筛选与对比。
2. **实时互动**：分钟级新闻更新，用户评论实时同步。
3. **观点穿透**：快速定位用户在某新闻或帖子内的完整发言历史。

---

## **二、核心功能需求**
### **2.1 新闻模块**
#### 2.1.1 多国新闻聚合
- **新闻源管理**：
    - 接入主流媒体（示例）：  
      | 国家/地区  | 媒体列表（示例）         | 语言支持    |  
      |-----------|-------------------------|------------|  
      | 中国       | 新华社、CGTN、澎湃新闻    | 中/英      |  
      | 美国       | CNN、NY Times、WSJ      | 英文       |  
      | 日本       | NHK、朝日新闻            | 日/英      |
    - 支持手动添加媒体源（管理员后台）。
- **新闻筛选**：
    - 按国家/地区标签过滤新闻（如🇺🇸美国、🇪🇺欧盟）。
    - “全球热点”模式：自动聚合多国对同一事件的报道（如“巴以冲突”）。
- **多语言支持**：
    - 用户可一键翻译非母语新闻（对接Google Translate API），原文与译文分段对照。

#### 2.1.2 新闻展示与互动
- **新闻详情页**：
    - 正文展示：文字 + 图片/视频/外部链接。
    - 来源标注：在标题下方显示媒体图标与可信度评分（1-5星）。
    - 关联阅读：同事件其他国家媒体报道（侧边栏对比）。
- **突发新闻推送**：
    - 弹窗提醒（用户可关闭），推送频率可设置（仅重大事件/全部）。

### **2.2 评论与社交模块**
#### 2.2.1 评论系统
- **层级结构**：
    - 主评论（直接回复新闻）→ 子评论（无限嵌套，默认折叠超过3层的回复）。
- **评论追踪**：
    - **用户视角**：
        - 点击任意用户头像 → 弹出浮层显示其**在本帖的全部评论**（按时间排序）。
        - 浮层内点击评论项 → 自动跳转至原楼层并高亮显示。
    - **全局视角**：
        - 用户个人主页 → “我的评论”标签页，可按新闻/帖子分类检索历史评论。
- **互动功能**：
    - 点赞、踩、转发评论（带原文链接）。
    - @用户提醒，敏感词自动折叠（如辱骂性语言）。

#### 2.2.2 用户创作
- **发帖功能**：
    - 支持图文/短视频发布，可关联新闻话题标签。
    - 草稿箱自动保存，定时发布（预设发布时间）。
- **内容管理**：
    - 用户可编辑/删除自有内容，举报他人违规内容。

### **2.3 用户偏好管理**
- **国家/媒体偏好**：
    - 首次登录选择1-3个常关注国家，首页优先展示相关新闻。
    - 支持屏蔽特定媒体（如“不显示XX新闻网”）。
- **智能推荐**：
    - 基于用户行为的动态权重调整：  
      | 行为          | 权重变化  | 说明                |  
      |-------------|----------|---------------------|  
      | 点击阅读全文  | +2       | 基础兴趣信号         |  
      | 收藏/分享    | +5       | 高价值信号           |  
      | 快速划过的新闻| -1       | 潜在不感兴趣         |

---

## **三、技术架构**
### **3.1 后端架构**
- **服务框架**：Spring Boot 3.x（Java 17）+ Spring Security。
- **数据存储**：
    - MySQL：存储新闻内容、用户关系、评论层级数据。
    - Redis：缓存热点新闻、用户会话、实时评论流。
    - Elasticsearch：支持新闻全文检索与评论关键词搜索。
- **实时推送**：
    - WebSocket推送新闻更新与评论。
    - Kafka处理突发新闻推送任务（削峰填谷）。
- **第三方服务**：
    - 新闻源：NewsAPI、GNews、自建爬虫（Python + Scrapy）。
    - 机器翻译：Google Translate API。

### **3.2 前端架构**
- **核心框架**：Vue 3 + TypeScript + Pinia状态管理。
- **关键组件**：
    - 虚拟滚动列表：支持万级评论流畅渲染。
    - 国家选择器：图标+文字的多选组件（支持搜索）。
- **性能优化**：
    - 新闻详情页SSR（服务端渲染），CDN加速静态资源。


